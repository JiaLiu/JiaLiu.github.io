#任何网站都可以变成 PWA —— 但我们需要做得更好
最近，Jeremy 在他的博客上对我进行了抨击。
>毫不夸张地说，任何网站都可以并应该做成渐进式的 web 应用，也就是 PWA。别听别人讲各种理由说这不可以。去年我是在一个会议上听到 Chris Heilmann 说你不应该把你的博客变成 PWA。我真不敢相信我听到了些什么。他在那个视频演讲里喋喋不休地说：“比如说有的人把自己的博客做成了 PWA，我看不出这有什么意义。我可不想在我的手机主屏上看到这些博客的图标。对我来说这完全不合常理……”。你说什么？！只是因为你不想让一些人的图标出现在你的主屏上，他们就不应该使用 PWA 这样先进的技术？！抱歉我法语不太好，但是 Fuck。That。Shit!  
原生移动应用所能做到的那些事情已经把我们的想像力变得如此有限，以致于都看不出我们过去所做的不过只是在像个可悲的货物崇拜教徒（译者注：货物崇拜，一种迷信舶来物中蕴含着神灵的宗教，参见 <https://en.wikipedia.org/wiki/Cargo_cult>) 一样在模仿那些原生应用。  
我不想让 web 变得和原生应用一样，我想要的是让 web 可以超越原生应用。对我来说，与其让那些满足了审核者条件的公司及初创企业们的图标霸占我的主屏，我宁愿我的手机上都是一些人的头像，而他们也不再需要经过什么人的允许就可以自由发布他们的内容。这才是我想要的！

对此，我只想说，我并不是在告诉别人不要去使用现代先进的技术来造福于他们的用户、为他们自己发布内容带来便利性。而且 PWA 中所涉及的技术都非常有价值，它应该可以取得比现在更大的成功。

![在 JSPoland 上的 PWA 演讲](https://christianheilmann.com/wp-content/uploads/2017/06/ShareX_2017-06-27_16-52-48-1009x1024.jpg)
我正在告诉人们任何东西都可以做成 PWA

我希望我们能付出更多的努力，让现代 web 技术不要只是被个人使用。我想在我们的工作中也能够使用它们，而不仅仅总是出现在一些精彩的个人 web 展示或大公司制作的演示中。

在我们自己能够控制的环境里我们可以使用各种先进的技术，但我们还应该有更高的目标。我们需要追溯到错误的本源，升级那些陈旧蹩脚的解决方案，让它们变得更为简便。我当然没有权力去告诉别人不要在他们的博客中使用什么技术，但我也不想看到很多东西都一股脑被兜售成 PWA，那可真是一种糟糕的体验。我们在过去已经一次又一次地以各种形式犯这种错误。而这一次，既然我们现在拥有了比过去好得多的工具，我们就需要把事情做对。

我曾经一次又一次地在公众面前对现在这种形式的应用商店表示反对。当我们已经拥有了 web，这种应用商店难道不是一种人为制造的障碍吗？

可能吧，可是事实是新一代的年轻人更熟悉的是 App 而不是 web。在他们眼里，web 上充斥着大量的广告，还得提防恶意软件。而在一些使用 web 不像我们现在这么方便的地方，人们甚至认为 Facebook 就是 web 的全部。对他们来说，与其去使用笨重臃肿的 web，Facebook 用起来还更容易些。

我说我看不出把一个博客站点转化为 PWA 的意义，其实这反映出人们一直困惑的一个地方，就是 app 到底应该做什么，什么样的东西才适合做成 app。对我来说，app 是用来“做”事情的，而不应该是供人们“读”东西的。所以我觉得不应该把连线杂志、卫报、滚石乐队、泰晤士报这类东西做成 app。我们手机桌面上的图标已经够多的了。我会使用 RSS 聚合工具来阅读博客，用电子书阅读器（或者浏览器）来看书，用 Spotify 或者 iTunes 听音乐，我可不想为每个乐队或者每部电影都安装一个 app。

多年来我一直在 web 上发布我自己的内容，因为我不知道你喜欢用什么方式来阅读这些东西，所以我采用了博客这种形式，我自己也很喜欢这种方式。我觉得在你的手机桌面上不应该出现一个名为 “Chris Heilmann”的图标。我的名字也许应该出现在你的通讯录里，我所创作的内容应该显示为你的一个书签或者以邮件的方式投递给你。在我的博客上你也做不了别的什么事情，你能做的无非是用你自己喜欢的方式来阅读这些内容。

我非常赞成 Jeremy 说的这句话：
> 我不想让 web 变得和原生应用一样，我想要的是让 web 可以超越原生应用。

其实这和我的观点是完全一致的，我不想让博客变成 app，无论是哪种形式的 app。我希望人们创建 PWA 不仅仅只是把它作为一种书签，即便这种书签有些高级的功能，比如可以在我离线工作时通知我有新的内容可用。

尽管如此，我也并没有说你不应该使用 manifest 和 service worker 这样的技术来优化你的网页以及博客。只要是正确的事情我们就应该大胆地去做。我尤其鼓励大家应该做一件同时也是 PWA 中所必须的事情：不要再通过 HTTP 发布信息，用 HTTPS 来提升 web 的安全性。我们应该消除“中间人攻击”这一安全隐患，尤其现在有很多政府都喜欢做这种“中间人”，威胁公众的信息安全。

我想看到 web 能在重要的场景中超越原生 app。我不想为了买一张去柏林的车票也要下载一个 app。我不想每到一个机场都要安装一个 新的app。我也非常讨厌每次参加一个活动也都要安装它们的 app。我不想看到我经常光顾的餐馆也有自己的 app。其实并不我自己想要用这些 app，但我却总是不得不在我空间有限的手机、电脑桌面或者启动栏上再分给他们一些地方。

我们需要 web 在两个方面去战胜原生应用：去中心化和方便性，这两个方面这是原生应用做得狠糟糕的地方。我希望人们不要想做点什么事情都要到应用商店里取下载、安装然后运行一个 app。我希望人们可以在访问免费的内容不必被迫绑定一张信用卡。就像现在的苹果应用商店，即便你想要的内容是免费的，你也得提供一张信用卡，这真是极其地不方便。我希望人们可以在任何设备任何网络条件下都可以查询列车情况、预订餐厅、找医生或者查询一些别的东西。我希望人们拍摄和分享照片，却不希望他们是在用一些不安全的、过时的 app 来做这件事，但每天都要消耗 50M 数据流量去更新这些 app 那也是够麻烦的。为了实现我们的这些愿望，我们终于迎来了这个伟大的新玩家 —— PWA。

[![先试后买](https://christianheilmann.com/wp-content/uploads/2017/06/ApplicationFrameHost_2017-06-27_17-20-27-875x1024.jpg)](https://twitter.com/lakatos88/status/876713746655215616)
> PWA 是一种先尝后买的方式，你只需要访问它一次就安装上了这个应用，再在之后的多次访问时根据需要授予它更多的权限。

我想让人们理解一切都控制在他们自己手中。正如我上周在波兰时说的，PWA 是一个很好的买前使用的手段。你打开一个 URL，你喜欢你看到的内容，为了方便以后能继续方便地访问它，你给了它更多的权限，可以离线工作，在有更新时发出通知给你。

PWA 必须首先要达到这样的水准才能打动用户。我们还需要一些了不起的实例来展示 PWA 的能力。我现在已经不再使用原生的 Twitter 应用了，[Twitter Lite](https://lite.twitter.com/) 已经可以满足我的使用要求，并且为我节省了数据空间。我经常向周围的人展示这个例子，然后会看到他们也像我一样删除了原生的 Twitter。这才是我们需要做的。

每当我们向别人推销 web 的优点的时候，我们总是在重复下面几点：

* 在 web 上发布内容很容易
* 每个人都可以使用 web
* web 不被任何人所控制和把持
* web 是吸引人的，它不依赖于特定平台，与设备外观因素无关

但当你发再看看现在这个每天有数百万人在使用的 web，情况就会变得很不一样了。

每个浏览器厂商都有一个负责跨浏览器兼容性的部门，这可不是一件好事情。我们向这些大公司指出他们的产品中存在的问题以及可以如何解决这些问题。我们还提供一些方法来帮助开发者可以不用依赖那些 webkit 前缀。但我们总是会被人责问做这些事情背后有什么商业利益目的。

没错我们是取得了一些小的胜利，但现在 web 的状态仍然是令人沮丧的。在我们梦想的肥皂泡里，web 应该是一个伟大和令人惊叹的东西。

事情是怎么变成现在这样的？我们拥有技术，拥有知识，我们在数以百计的演讲、书籍和文章中输出着大量的信息。又是谁创造了现在这个令人讨厌的 web？现在的 web 固然积弊已深，但难道因此我们就只能在自己家里去搞一些好的东西，而在实际工作中就只能发泄抱怨吗？

我说我不想看到博客变成 app，但我并不是说你不应该用先进的技术增强你的博客，我并不是在禁止别人宣传和使用技术。

但是，我认为这还不够。我们需要在商业上也取得成功。我们需要在市场上击败原生应用。我们需要创造更好地基于 web 的解决方案来打破人们认为原生应用更方便的迷信。

我们已经证明了在个人内容发布方面 web 可以的做得很好。那么现在我们需要到那些制作 iOS 和 Android 应用的公司里去，给他们做在线演示，展示 web 更强大的功能。我们要让他们了解通过 web 来发布他们的内容，让他们的用户通过 web 来使用他们的产品，都会是绝佳的选择。我们以为这是常识，但其实并不是。我们必须再次提醒人们 web 是多么的好，使用 web 技术是多么的简单。 

为了达到这一目的，我们首要要做的事情就是要找到在 web 上创造巨大的经济效益的方法。我们需要想办法让人们为内容付费，而不是让内容发布者只能靠引入大量的广告这种简单方式来赚钱。我们需要用真实存在的产品、数字、商业上成功来证明 web 的优势。Google 正在为宣传 PWA 不遗余力地花钱，每一个大型的 web 公司在做类似的事情。我也在和我的合作者一起努力改进我们的产品使之可以跨浏览器工作，我们还会把产品转变为 PWA。现在已经可以看到[第一批非常不错的 PWA 案例](https://developers.google.com/web/showcase/2016/)，但我们还需要更多这样的例子。

我不希望看到开发者们只能在自己的业余时间、在他们的个人项目上学习和使用新的 web 技术。我想让每个公司都能理解 PWA 的价值，尤其重要的是要纠正它们对 web 的误解，能对 web 保持持续的投入。

如果你认为这里说到的这些以及那些 PWA 案例都是一时偶然的产物，只是刚好我们这些人都喜欢 web，你就大错特错了。我们已经投入了大量的努力来说服公司去做这件明摆着的事情。大量的时间和金钱已经投入了进去。很多公司内的开发者已经赌上了他们的职业发展来告诉他们的管理者，web 应该是公司的另一个选择。我们希望把 web 带入到我们的工作中，但也要提醒人们质量就意味着成就。不要把时间浪费在一些已经进入多年维护状态的陈旧产品上，没必要在它们上面引入新的 web 技术。

Jeremy 想要一个这样的世界：
> 对我来说，与其让那些满足了审核者条件的公司及初创企业们的图标霸占我的主屏，我宁愿我的手机上都是一些人的头像，而他们也不再需要经过什么人的允许就可以自由发布他们的内容。这才是我想要的！

其实我想要的还更多。我希望我们的商业领域和线上的市场宣传不要只局限在衍生应用和封闭的应用商店上。我不想让人们觉得只要有一台 iPhone 能访问他们想要的内容就够了。我不希望看到公司们都必须在应用商店里浪费大量的金钱来宣传自己，其实人们可以很轻松的通过 web 找到它们。我觉得 Jeremy 设想的那个世界我们现在已经可以做到了。这里我再重复一次，如果人们真的想那样或者觉得那样并没什么不好，我也不反对他们把头像放到手机桌面上。

在你把你现在的 web 产品转化为 PWA 的过程所做的每一步都会有利于你产品的健康和质量，不会有什么努力是浪费的。这也是很好的一点。但这也意味着我们需要达到一定的质量目标，做出优秀的产品，避免让对 web 怀着 “app” 期待的用户觉得 web 产品不能满足他们的需要。我们必须讨论这些质量目标，已经有不少公司就此提出了它们的想法。这并不意味着我们要对 web 进行审查，或者把非公司雇佣的开发者拒之门外。我们只是不希望在我们手里又得出“HTML5 应用是一种糟糕的体验”这样的结论（译者注：是在影射扎克伯格和 Facebook 吧。）。