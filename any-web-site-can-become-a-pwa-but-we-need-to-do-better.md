# 任何网站都可以变成 PWA —— 但我们需要做得更好

> 本文译自 [Any web site can become a PWA – but we need to do better](https://christianheilmann.com/2017/06/27/any-web-site-can-become-a-pwa-but-we-need-to-do-better/)。

Jeremy 在他的[博客](https://adactio.com/journal/12461)上对我进行了一番抨击。
> 毫不夸张地说，任何网站都可以并应该做成渐进式的 web 应用，也就是 PWA。别听别人讲各种理由反对这样做。去年我是在一场活动中听到 Chris Heilmann 说你不应该把你的博客变成 PWA。我真不敢相信我听到了些什么。他在那个演讲视频里喋喋不休地说：“比如说有的人把自己的博客做成了 PWA，我看不出这有什么意义。我可不想在我的手机主屏上看到这些博客的图标。对我来说这完全不合理……”。你说什么？！就因为你不想在你的主屏上看到别人的图标，他们就不应该使用 PWA 这样先进的技术？！很抱歉这里我得飚脏话了……Fuck.That.Shit！  
我们已经太习惯于原生的移动应用了，我们的想像力已经变得如此有限，以致于都看不出我们过去所做的事情不过只是在像个可悲的货物崇拜教徒（译者注：货物崇拜，一种迷信舶来物中蕴含着神灵的宗教，参见 <https://en.wikipedia.org/wiki/Cargo_cult>) 一样在去膜拜和模仿那些原生应用。  
我并不想让 web 变得和原生应用一样，我想要的是让 web 可以超越原生应用。对我来说，与其让那些满足了审核者条件的公司及初创企业们的图标霸占我的主屏，我宁愿我的手机上都是一些人的头像，而他们也不再需要经过什么人的允许就可以自由发布他们的内容。这才是我想要的！

好吧，我只想说，我并不是在告诉别人不要去使用现代先进的技术来造福于他们的用户、来使他们发布内容变得更为方便。不仅如此，我还认为 PWA 中所涉及的技术都是非常有价值的，理应取得比现在更大的成功。

![在 JSPoland 上的 PWA 演讲](https://christianheilmann.com/wp-content/uploads/2017/06/ShareX_2017-06-27_16-52-48-1009x1024.jpg)  
我确实是在跟人们说任何东西都可以做成 PWA

但我还希望我们做得更多，让现代 web 技术不要只是被个人使用。我想在我们的工作中也能够使用它们，而不仅仅只是出现在一些精彩的个人 web 展示或大公司制作的例子中。

在我们自己能够控制的环境里我们可以使用各种先进的技术，但我们还应该有更高的目标。我们需要追溯到错误的本源，去升级那些陈旧蹩脚的解决方案，让它们变得更为简便。我当然没有权力去告诉别人不要在他们的博客中使用什么技术，但我也不想看到很多东西都一股脑被兜售成所谓的 “PWA”，这也是一种很糟糕的体验。我们在过去已经一次又一次地以各种形式犯过这种错误。而这一次，既然我们现在拥有了比过去好得多的工具，我们就需要把事情做对。

我曾经一次又一次地在公众面前对现在这种形式的应用商店表示过反对。当我们已经拥有了 web，这种应用商店难道不就是一种人为制造的障碍吗？

可是事实上，新一代的年轻人更熟悉的是 App 而不是 web。在他们眼里，web 上充斥着大量的广告，还得提防恶意软件。而在一些使用 web 不像我们现在这么方便的地方，人们甚至认为 Facebook 就是 web 的全部。对他们来说，与其去使用笨重臃肿的 web，Facebook 用起来还更容易些。

我说我看不出把一个博客站点转化为 PWA 的意义，其实这也正反映出人们一直搞不清楚的一个问题，就是 app 到底应该做什么，什么样的东西才适合做成 app。对我来说，app 是用来“做”事情的，而不应该是供人们来“读”东西的。所以我觉得不应该把连线杂志、卫报、滚石乐队、泰晤士报这样的东西做成 app。我们手机桌面上的图标已经够多的了。我会使用 RSS 聚合工具来阅读博客，用电子书阅读器（或者浏览器）来看书，用 Spotify 或者 iTunes 听音乐，我可不想为每个乐队或者每部电影都安装一个 app。

多年来我一直在 web 上发布自己的内容，因为我不知道你喜欢用什么方式来阅读这些东西，所以我采用了博客这种形式，这也是我很喜欢的一种方式。我觉得在你的手机桌面上不应该出现一个名为 “Chris Heilmann” 的图标。我的名字应该出现的地方是在你的通讯录里，它背后代表的应该是一个书签或者是我的邮件地址。在我的博客上除了阅读，你也做不了别的什么事情，当然你可以随意选择自己喜欢的方式来做这件事。

我非常赞成 Jeremy 说的这句话：
> 我并不想让 web 变得和原生应用一样，我想要的是让 web 可以超越原生应用。

其实这和我的观点是完全一致的，我不想让博客变成 app，无论是哪种形式的 app。我希望人们创建 PWA 不仅仅只是把它作为一种书签，即便这种书签有些高级的功能，比如可以在我离线工作时通知我有新的内容可用。

尽管如此，我也并没有说你不应该使用 manifest 和 service worker 这样的技术来优化你的网页以及博客。只要是正确的事情我们就应该大胆地去做。我尤其鼓励大家应该做一件同时也是 PWA 中所必须的事情：不要再通过 HTTP 发布信息，用 HTTPS 来提升 web 的安全性。我们应该消除“中间人攻击”这一安全隐患，尤其是现在有很多政府都喜欢做这种“中间人”，威胁公众的信息安全。

我想看到 web 能在重要的场景中超越原生 app。我不想为了买一张去柏林的车票也要下载一个 app。我不想每到一个机场都要安装一个新的 app。我也非常讨厌每次参加一个活动也都要安装它们的 app。我不想看到我经常光顾的餐馆也有自己的 app。其实并不是我自己想要用这些 app，但我却总是不得不在我空间有限的手机、电脑桌面或者启动栏上再分给他们一些地方。

我们需要 web 在两个方面去战胜原生应用：去中心化和方便性，这两个方面正是原生应用做得狠糟糕的地方。我希望人们不要想做点什么事情都要到应用商店里去下载、安装然后运行一个 app。我希望人们可以在访问免费的内容时不必被迫绑定一张信用卡。就像现在的苹果应用商店，即便你想要的内容是免费的，你也得提供一张信用卡，这真是极其地不方便。我希望人们可以在任何设备任何网络条件下都可以查询列车情况、预订餐厅、找医生或者查询一些别的东西。我希望人们去拍摄和分享照片。我不希望人们使用app 却又不去升级，因为使用旧版本 app 意味着可能存在安全隐患，但每天都要下载50兆的更新也确实是够麻烦的。为了实现我们的这些愿望，我们需要这个伟大的新玩家 —— PWA。

[![先尝后买](https://christianheilmann.com/wp-content/uploads/2017/06/ApplicationFrameHost_2017-06-27_17-20-27-875x1024.jpg)](https://twitter.com/lakatos88/status/876713746655215616)
> PWA 是一种先尝后买的方式，你只需要访问它一次就可以安装这个应用，然后可以在之后的多次访问过程中给予它更多的权限。

我想让人们知道 PWA 是受用户控制的。正如我上周在波兰时说的，PWA 就是在购买前试用。你打开一个 URL，你喜欢你看到的内容，然后在之后访问时可以给它更多的权限，允许它离线工作，甚至让它在有更新时发出通知给你。

PWA 要想打动用户，我们还需要一些优秀的实例来展示 PWA 的能力。我现在已经不再使用原生的 Twitter 应用了，[Twitter Lite](https://lite.twitter.com/) 已经可以满足我的使用要求同时为我节省了大量的数据和空间。我经常向周围的人展示这个例子，然后会看到他们也像我一样删除了原生的 Twitter。这才是我们需要做的。

每当我们向别人宣传 web 很酷的时候，我们总是在重复下面几点：

* 在 web 上发布内容很容易
* 每个人都可以使用 web
* web 不被任何人控制和把持
* web 是吸引人的，它不依赖于特定平台，也与设备的外观因素无关

但当你再看看现在这个每天有数百万人在使用的 web，就不是这么回事儿了。

每个浏览器厂商都有一个负责跨浏览器兼容性的部门，这可不是一件好事情。我们向这些大公司指出他们的产品中存在的问题以及可以如何解决这些问题。我们还提供一些方法来帮助开发者可以不用依赖那些 webkit 前缀。但我们总是会被人责问做这些事情背后有什么商业利益目的。

没错我们是取得了很多小的胜利，但现在 web 的状态仍然是令人沮丧的。在我们梦想的肥皂泡里，web 应该是一个伟大和令人赞叹的东西。

事情是怎么变成现在这样的？我们拥有技术，拥有知识。我们在数以百计的演讲、书籍和文章中输出着大量的信息，但问题是我们把这些又传递给了谁？又是谁一手打造了现在这个令人厌恶的 web？现在的 web 固然问题多多，但难道因此我们就只满足于在自己家里去搞一些好的东西，而在实际工作中就只能发泄抱怨吗？

我说我不想看到博客变成 app，但我并不是说你不应该用先进的技术增强你的博客，我并不是在禁止别人发布和使用技术。

但是，我认为这还不够。我们需要在商业上取得成功。我们需要在市场上击败原生应用。我们需要创造更好的基于 web 的解决方案来打破人们认为原生应用更为方便的迷信。

我们已经证明了在个人内容发布方面 web 可以的做得很好，那么现在我们需要到那些制作 iOS 和 Android 应用的公司里去，给他们做在线演示，展示 web 更强大的功能。我们要让他们了解，无论是发布他们的内容还是他们的用户使用他们的产品的方式，web 都会是绝佳的选择。我们以为这是大家的常识，但其实并不是这样。我们必须再次提醒人们 web 是多么的好，使用 web 技术是多么的简单。 

为了达到这一目的，我们首要要做的事情就是要找到在 web 上创造巨大的经济效益的方法。我们需要想办法让人们为内容付费，而不是让内容发布者只能靠引入大量的广告这种简单方式来赚钱。我们需要用真实存在的产品、数字、商业上成功来证明 web 的优势。Google 正在为宣传 PWA 不遗余力地花钱，每一个大型的 web 公司都在做类似的事情。我也在和我的合作者一起努力改进我们的产品使之可以跨浏览器工作，也会使之 PWA 化。现在我们已经可以看到[一批非常不错的 PWA 案例](https://developers.google.com/web/showcase/2016/)了，但我们还需要更多这样的例子。

我不希望看到开发者们只能在自己的业余时间、在他们的个人项目上学习和使用新的 web 技术。我想让每个公司都能理解 PWA 的价值，尤其重要的是要纠正它们对 web 的误解，能对 web 保持持续的投入。

如果你认为这里说到的这些还有那些 PWA 案例都是一时偶然的产物，只是刚好我们这些人都喜欢 web，你就大错特错了。我们已经投入了大量的努力来说服公司们去做一些明显的动作来支持 web。大量的时间和金钱已经投入了进去。很多公司内的开发者已经赌上了他们的职业发展来告诉他们的上司，web 可以是公司的另一个选择。我们希望把 web 带入到我们的工作中，但也要提醒人们质量就意味着成就。不要把时间浪费在一些已经进入多年维护状态的陈旧产品上，没必要在它们上面引入新的 web 技术。

Jeremy 想要一个这样的世界：
> 对我来说，与其让那些满足了审核者条件的公司及初创企业们的图标霸占我的主屏，我宁愿我的手机上都是一些人的头像，而他们也不再需要经过什么人的允许就可以自由发布他们的内容。这才是我想要的！

其实我想要的还更多。我希望商界和互联网上的市场宣传不要只局限在原生应用和封闭的应用商店上。我不想让人们觉得只要有一台 iPhone 能访问他们想要的内容就够了。我不希望看到，人们完全可以很轻松地在 web 上访问到公司的产品和信息，这些公司却还得在应用商店里浪费大量的金钱来宣传自己。我觉得 Jeremy 描述的那个世界我们现在已经实现了。在这里我再重复一次，如果人们真的想那样做或者觉得那样并没什么不好的话，我倒也不反对他们把在手机桌面上放置些头像。

PWA 还有一个很好的地方是，在你把你现在的 web 产品转化为 PWA 的过程所做的每一步，都会对你产品的健康和质量有利，不会有什么努力是浪费的。这也意味着我们需要达到一定的质量目标，避免让对 web 怀着 “app” 期待的用户觉得 web 产品不能满足他们的需要。我们必须讨论这些质量目标，已经有不少公司就此提出了它们的想法。这并不意味着我们要对 web 进行审查，或者把非公司雇佣的个体开发者拒之门外。我们只是不希望在我们手里又得出“HTML5 应用是一种糟糕的体验”这样的结论（译者注：这是在影射扎克伯格和 Facebook 吧）。

我在这个网站上写博客已经很多年了。在这里我学到了很多，非常棒。但我不想让 web 仅仅被信奉它的人使用，我想让每个人尤其是商业公司都来使用 web，而不要再局限在封闭的应用商店里。我们长期以来一直在逃避责任，没有去努力推动企业以及那些人们日常使用的产品去拥抱 web 技术。其实现在这种应用商店模式的糟糕体验对我们来说是一个很好的机会去推广 web，我希望每一个对此有兴趣有相关知识的人都能参与进来。

我还是不愿意看到在我的手机屏幕上堆满了人的头像，这是通讯录该做的事情。同样，我用我的电子书阅读器（目前我就用浏览器）来阅读书籍，我可不希望每个书籍作者都有一个 app。

但我确实觉得 feed 阅读器这个主意不错。这样我就可以一次性地了解我所关注的人有什么新的内容。我也很喜欢里面的搜索功能。如果我想和这些内容的作者做些沟通的话，通过这个工具我还可以联系他们然后与他们谈话，或者说更好的办法是干脆约个面谈。

我认为 app 是用来做事情的。这个博客对我来说是一个 app，但对别人来说就不是。因为你不能编辑它，甚至都不能做评论。在我发现我在克制我的情绪上所花的时间比回答问题的时间还多的时候，我就把评论功能给关了。这就是它不会变成一个 PWA 的原因。如果我把它转变为 PWA，一旦你把我的头像放到你的手机主屏上，我就会感到有一种让我发布更多内容的压力。

所以这就是我不建议个人博客转化为 PWA 的原因。对我来说 app 就是用来做事情的。假如你把你的博客发布成了 PWA，但通过它我除了阅读和分享之外也做不了其它事情的话，我固然不能阻止你这么做，但是我可能不会安装你这个 app。同样的，我也不会去下载 Kim Kardashian（金·卡戴珊）的 app 以及那些乐队的 app。

这件事与你是否能拥有自由发布内容的权利没有关系。我们的目的是要在用户的手机主屏、dock和桌面上，在这样空间有限的环境里去为 web 争取更大的空间。如果你喜欢在那上面放满你朋友的博客或者别的你喜欢的人的图标，这也没有什么关系。我甚至非常乐于看到你从商店里买回来的新手机上开机就自带着这些 PWA。这也好于现在第一次开机时，总是要为那些原生应用下载200兆的更新，因为如果不这么做，陈旧的 app 可能就会成为我们的手机上的安全隐患。所以我希望看到 web 能成为未来新设备中的核心部分，而为了能迎来这一天，我们需要有更高的目标，并且要做得更好。